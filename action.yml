name: Test Action
description: Testing Actions

inputs:
  config:
    description: 'The path to the config file'
    required: true
    default: 'config.hcl'
#  TFE_TOKEN:
#    description: 'The token for interacting with TFC'
#    required: true
#  future: need to specify TFC URL, to allow for eu TFC

runs:
  using: "composite"
  steps:

  - name: Set up Go
    uses: actions/setup-go@v5
    with:
      go-version: '1.21'

  - name: What's in the directory?
    shell: bash
    run:
      ls -lah ${{ github.action_path }} ;
      echo ;
      ls -lah ${{ github.action_path }}/script ;

  - name: Run
    shell: bash
    run:
      go run ${{ github.action_path }}/script --config ${{ github.action_path }}/script/config.hcl